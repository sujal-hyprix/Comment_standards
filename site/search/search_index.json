{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Commenting Standards","text":"<p>Use the sidebar to navigate.</p> <ul> <li>Standard: see \u201cStandard\u201d in the left nav</li> </ul>"},{"location":"commenting_standards/","title":"Coding Comment Standards","text":"<p>(NASA C Style, Doxygen-Compatible)</p>"},{"location":"commenting_standards/#0-scope-and-purpose","title":"0. Scope and Purpose","text":"<p>This document defines mandatory commenting standards for C code written within the organization.</p> <p>The goals of this standard are to: - Improve safety, clarity, and maintainability - Enable automatic documentation generation using Doxygen - Support integration with Sphinx / ReadTheDocs - Align with NASA / aerospace software practices</p> <p>This document uses normative language: - MUST \u2013 mandatory requirement - SHOULD \u2013 strongly recommended - MUST NOT \u2013 prohibited - MAY \u2013 optional</p>"},{"location":"commenting_standards/#01-definitions","title":"0.1 Definitions","text":"<ul> <li>File: A single <code>.c</code> or <code>.h</code> compilation unit  </li> <li>Module: A self-contained unit of responsibility with a public interface  </li> <li>Public Header: A header file intended to be included by other code  </li> <li>Implementation File: A source file containing internal logic  </li> </ul>"},{"location":"commenting_standards/#phase-1-file-level-documentation","title":"Phase 1 \u2014 File-Level Documentation","text":""},{"location":"commenting_standards/#1-purpose-of-file-level-documentation","title":"1. Purpose of File-Level Documentation","text":"<p>File-level documentation describes the responsibility of an individual file.</p> <p>Every file must be understandable in isolation, without requiring inspection of other files.</p> <p>File-level documentation applies to: - All <code>.c</code> files - All <code>.h</code> files - Without exception</p>"},{"location":"commenting_standards/#2-mandatory-file-header","title":"2. Mandatory File Header","text":""},{"location":"commenting_standards/#rule-f-11-file-header-requirement","title":"Rule F-1.1 \u2014 File Header Requirement","text":"<p>Every <code>.c</code> and <code>.h</code> file MUST begin with a Doxygen file-level comment block.</p>"},{"location":"commenting_standards/#3-file-header-format","title":"3. File Header Format","text":""},{"location":"commenting_standards/#rule-f-21-doxygen-block-style","title":"Rule F-2.1 \u2014 Doxygen Block Style","text":"<p>File headers MUST use a Doxygen block comment beginning with <code>/**</code>.</p>"},{"location":"commenting_standards/#required-file-header-template","title":"Required File Header Template","text":"<pre><code>/**\n * @file    imu_driver.c\n * @brief   IMU driver register access implementation.\n *\n * @details\n * This file implements low-level register access routines for the\n * XYZ inertial measurement unit.\n *\n * This file does not expose public APIs and must not be included\n * directly by application code.\n *\n * @note\n * This file assumes the I2C peripheral has already been initialized.\n *\n * @warning\n * This file MUST NOT be accessed from ISR context.\n */\n</code></pre>"},{"location":"commenting_standards/#4-required-doxygen-tags-file-level","title":"4. Required Doxygen Tags (File-Level)","text":""},{"location":"commenting_standards/#rule-f-31-mandatory-tags","title":"Rule F-3.1 \u2014 Mandatory Tags","text":"<p>Every file header MUST include:</p> Tag Requirement <code>@file</code> MUST match the file name exactly <code>@brief</code> MUST be one concise sentence <code>@details</code> MUST describe file responsibility <code>@note</code> MUST be present if assumptions exist <code>@warning</code> MUST be present if misuse is possible"},{"location":"commenting_standards/#5-content-rules","title":"5. Content Rules","text":""},{"location":"commenting_standards/#rule-f-41-responsibility-over-implementation","title":"Rule F-4.1 \u2014 Responsibility Over Implementation","text":"<p>File-level documentation MUST describe:</p> <ul> <li>What the file is responsible for</li> <li>What it explicitly does not do</li> <li>File-specific assumptions</li> </ul> <p>File-level documentation MUST NOT describe:</p> <ul> <li>Algorithms</li> <li>Control flow</li> <li>Register sequences</li> <li>Function behavior</li> </ul>"},{"location":"commenting_standards/#6-header-vs-source-file-rules","title":"6. Header vs Source File Rules","text":""},{"location":"commenting_standards/#rule-f-51-header-files-h","title":"Rule F-5.1 \u2014 Header Files (<code>.h</code>)","text":"<p>Header file documentation MUST describe:</p> <ul> <li>Public declarations contained in the file</li> <li>Usage constraints</li> <li>Visibility intent</li> </ul>"},{"location":"commenting_standards/#rule-f-52-source-files-c","title":"Rule F-5.2 \u2014 Source Files (<code>.c</code>)","text":"<p>Source file documentation MUST describe:</p> <ul> <li>Implementation-specific responsibilities</li> <li>Limitations not visible in headers</li> </ul>"},{"location":"commenting_standards/#7-prohibited-content","title":"7. Prohibited Content","text":""},{"location":"commenting_standards/#rule-f-61-versioning-information","title":"Rule F-6.1 \u2014 Versioning Information","text":"<p>File headers MUST NOT include:</p> <ul> <li>Revision history</li> <li>Change logs</li> <li>Modification dates</li> <li>Manual version numbers</li> </ul> <p>Version control systems are the authoritative source of history.</p>"},{"location":"commenting_standards/#8-license-headers","title":"8. License Headers","text":""},{"location":"commenting_standards/#rule-f-71-license-placement","title":"Rule F-7.1 \u2014 License Placement","text":"<p>If a license header exists:</p> <ul> <li>It MUST appear before the Doxygen file header</li> <li>It MUST NOT interrupt the Doxygen comment</li> </ul>"},{"location":"commenting_standards/#9-file-level-review-checklist","title":"9. File-Level Review Checklist","text":"<p>A file MUST be rejected if:</p> <ul> <li>No Doxygen file header exists</li> <li>File responsibility is unclear</li> <li>Assumptions are implicit</li> <li>Implementation details appear in the file header</li> </ul>"},{"location":"commenting_standards/#phase-2-module-level-documentation","title":"Phase 2 \u2014 Module-Level Documentation","text":""},{"location":"commenting_standards/#10-purpose-of-module-level-documentation","title":"10. Purpose of Module-Level Documentation","text":"<p>Module-level documentation defines the responsibility and contract of a module as a logical unit.</p> <p>A module is defined as:</p> <p>A self-contained unit of functionality with a public interface intended for reuse.</p> <p>Modules are not files. Files are implementation details.</p>"},{"location":"commenting_standards/#11-one-moduleone-header-rule","title":"11. One-Module\u2013One-Header Rule","text":""},{"location":"commenting_standards/#rule-m-11-single-public-header","title":"Rule M-1.1 \u2014 Single Public Header","text":"<p>Each module MUST have exactly one public header file.</p> <p>This public header:</p> <ul> <li>Defines the module\u2019s external API</li> <li>Acts as the module boundary</li> <li>Contains the module-level documentation</li> </ul>"},{"location":"commenting_standards/#rule-m-12-module-documentation-location","title":"Rule M-1.2 \u2014 Module Documentation Location","text":"<p>Module-level documentation MUST:</p> <ul> <li>Appear once</li> <li>Appear only in the module\u2019s public header (<code>.h</code>)</li> <li>Appear before any public declarations</li> </ul> <p>It MUST NOT appear in:</p> <ul> <li>Source files</li> <li>Private headers</li> <li>Multiple locations</li> </ul>"},{"location":"commenting_standards/#12-mandatory-module-documentation-block","title":"12. Mandatory Module Documentation Block","text":""},{"location":"commenting_standards/#rule-m-21-required-defgroup","title":"Rule M-2.1 \u2014 Required <code>@defgroup</code>","text":"<p>Each module MUST define a Doxygen group using <code>@defgroup</code>.</p>"},{"location":"commenting_standards/#required-module-documentation-template","title":"Required Module Documentation Template","text":"<pre><code>/**\n * @defgroup imu_driver IMU Driver\n * @brief Low-level driver for XYZ inertial measurement unit.\n *\n * @details\n * This module is responsible for:\n * - Device initialization\n * - Configuration\n * - Raw sensor data acquisition\n *\n * This module explicitly does NOT perform:\n * - Sensor fusion\n * - Calibration\n * - Coordinate frame transformations\n *\n * @note\n * All APIs in this module are non-reentrant.\n *\n * @warning\n * This module MUST NOT be accessed from ISR context.\n */\n</code></pre>"},{"location":"commenting_standards/#13-required-module-level-content","title":"13. Required Module-Level Content","text":""},{"location":"commenting_standards/#rule-m-31-mandatory-content","title":"Rule M-3.1 \u2014 Mandatory Content","text":"<p>Module documentation MUST describe:</p> <ul> <li>The module\u2019s single responsibility</li> <li>Services it provides</li> <li>Services it explicitly does not provide</li> <li>Global assumptions</li> <li>Execution context constraints</li> </ul>"},{"location":"commenting_standards/#rule-m-32-prohibited-content","title":"Rule M-3.2 \u2014 Prohibited Content","text":"<p>Module documentation MUST NOT describe:</p> <ul> <li>File-level details</li> <li>Algorithms</li> <li>Register-level behavior</li> <li>Function semantics</li> </ul>"},{"location":"commenting_standards/#14-public-api-association","title":"14. Public API Association","text":""},{"location":"commenting_standards/#rule-m-41-mandatory-ingroup","title":"Rule M-4.1 \u2014 Mandatory <code>@ingroup</code>","text":"<p>All public declarations in the module\u2019s public header MUST be associated with the module using <code>@ingroup</code>.</p> <pre><code>/**\n * @ingroup imu_driver\n */\nint imu_init(void);\n</code></pre>"},{"location":"commenting_standards/#15-assumptions-and-error-semantics","title":"15. Assumptions and Error Semantics","text":""},{"location":"commenting_standards/#rule-m-51-explicit-assumptions","title":"Rule M-5.1 \u2014 Explicit Assumptions","text":"<p>All module-wide assumptions MUST be documented at the module level.</p>"},{"location":"commenting_standards/#rule-m-52-error-philosophy","title":"Rule M-5.2 \u2014 Error Philosophy","text":"<p>Module documentation MUST describe:</p> <ul> <li>How errors are generally reported</li> <li>Whether errors are recoverable</li> <li>Whether permanent fault states are possible</li> </ul>"},{"location":"commenting_standards/#16-relationship-to-file-level-documentation","title":"16. Relationship to File-Level Documentation","text":"Level Answers File-Level What is this file responsible for? Module-Level What is this subsystem responsible for? <p>Module documentation MUST NOT duplicate file-level documentation.</p>"},{"location":"commenting_standards/#17-module-level-review-checklist","title":"17. Module-Level Review Checklist","text":"<p>A module MUST be rejected if:</p> <ul> <li>No module-level <code>@defgroup</code> exists</li> <li>Module responsibility is ambiguous</li> <li>Assumptions are implicit</li> <li>Public APIs are not grouped under the module</li> <li>Module documentation appears in multiple places</li> </ul> <p>End of Phase 1 and Phase 2</p>"},{"location":"commenting_standards/#phase-3-interface-function-level-documentation","title":"Phase 3 \u2014 Interface &amp; Function-Level Documentation","text":"<p>(NASA C Style, Doxygen-Compatible)</p>"},{"location":"commenting_standards/#18-purpose-of-function-level-documentation","title":"18. Purpose of Function-Level Documentation","text":"<p>Function-level documentation defines the behavioral contract of callable APIs.</p> <p>A function contract specifies: - What the function does - What inputs it expects - What outputs it produces - What errors may occur - What side effects it has - Under what conditions it may be called</p> <p>Function documentation applies to: - All public functions (mandatory) - Private functions that are non-trivial or safety-critical</p>"},{"location":"commenting_standards/#19-mandatory-documentation-for-public-functions","title":"19. Mandatory Documentation for Public Functions","text":""},{"location":"commenting_standards/#rule-fnc-11-public-function-documentation","title":"Rule FNC-1.1 \u2014 Public Function Documentation","text":"<p>Every public function MUST be documented with a Doxygen comment block.</p> <p>A public function is any function: - Declared in a public header file - Intended to be called by code outside the module</p> <p>Undocumented public functions are FORBIDDEN.</p>"},{"location":"commenting_standards/#rule-fnc-12-documentation-placement","title":"Rule FNC-1.2 \u2014 Documentation Placement","text":"<p>Function documentation MUST: - Appear immediately before the function declaration - Be written in the header file (<code>.h</code>) - Represent the authoritative contract</p> <p>Documentation MUST NOT rely on comments in the <code>.c</code> file.</p>"},{"location":"commenting_standards/#20-required-doxygen-block-format","title":"20. Required Doxygen Block Format","text":""},{"location":"commenting_standards/#rule-fnc-21-doxygen-style","title":"Rule FNC-2.1 \u2014 Doxygen Style","text":"<p>Function documentation MUST use a Doxygen block comment beginning with <code>/**</code>.</p>"},{"location":"commenting_standards/#required-function-documentation-template","title":"Required Function Documentation Template","text":"<pre><code>/**\n * @brief Initializes the IMU module.\n *\n * @details\n * This function initializes the IMU hardware and prepares the module\n * for data acquisition. It must be called exactly once before any\n * other IMU API is used.\n *\n * @pre\n * - I2C peripheral is initialized\n * - Power to the IMU is stable\n *\n * @post\n * - IMU module is ready for use\n *\n * @return\n * 0 on success, negative error code on failure.\n *\n * @note\n * This function is not reentrant.\n *\n * @warning\n * This function MUST NOT be called from ISR context.\n */\nint imu_init(void);\n</code></pre>"},{"location":"commenting_standards/#21-mandatory-doxygen-tags-function-level","title":"21. Mandatory Doxygen Tags (Function-Level)","text":""},{"location":"commenting_standards/#rule-fnc-31-required-tags","title":"Rule FNC-3.1 \u2014 Required Tags","text":"<p>Every documented public function MUST include:</p> Tag Requirement <code>@brief</code> Single-sentence summary <code>@details</code> Behavioral description <code>@return</code> Required if function returns a value <code>@pre</code> Required if preconditions exist <code>@post</code> Required if postconditions exist"},{"location":"commenting_standards/#rule-fnc-32-conditional-tags","title":"Rule FNC-3.2 \u2014 Conditional Tags","text":"<p>The following tags MUST be used when applicable:</p> Tag Condition <code>@param</code> For every function parameter <code>@retval</code> When returning multiple named values <code>@note</code> For assumptions or usage notes <code>@warning</code> For unsafe or restricted usage"},{"location":"commenting_standards/#22-brief-rules","title":"22. <code>@brief</code> Rules","text":""},{"location":"commenting_standards/#rule-fnc-41-brief-content","title":"Rule FNC-4.1 \u2014 <code>@brief</code> Content","text":"<p>The <code>@brief</code> description MUST:</p> <ul> <li>Be a single sentence</li> <li>Use the imperative mood</li> <li>Describe what the function does, not how</li> </ul>"},{"location":"commenting_standards/#correct","title":"Correct","text":"<pre><code>@brief Reads raw accelerometer data from the IMU.\n</code></pre>"},{"location":"commenting_standards/#incorrect","title":"Incorrect","text":""},{"location":"commenting_standards/#brief-this-function-reads-registers-and-shifts-bits","title":"<pre><code>@brief This function reads registers and shifts bits.\n</code></pre>","text":""},{"location":"commenting_standards/#23-param-documentation-rules","title":"23. <code>@param</code> Documentation Rules","text":""},{"location":"commenting_standards/#rule-fnc-51-mandatory-parameter-documentation","title":"Rule FNC-5.1 \u2014 Mandatory Parameter Documentation","text":"<p>Every function parameter MUST be documented using <code>@param</code>.</p> <p>Each <code>@param</code> MUST specify:</p> <ul> <li>Direction (<code>[in]</code>, <code>[out]</code>, <code>[in,out]</code>)</li> <li>Expected units (if applicable)</li> <li>Valid range or constraints</li> </ul>"},{"location":"commenting_standards/#example","title":"Example","text":"<pre><code>/**\n * @param[out] ax Acceleration along X axis in m/s^2.\n * @param[out] ay Acceleration along Y axis in m/s^2.\n * @param[out] az Acceleration along Z axis in m/s^2.\n */\nint imu_read_accel(float *ax, float *ay, float *az);\n</code></pre>"},{"location":"commenting_standards/#24-return-vs-retval","title":"24. <code>@return</code> vs <code>@retval</code>","text":""},{"location":"commenting_standards/#rule-fnc-61-return","title":"Rule FNC-6.1 \u2014 <code>@return</code>","text":"<p>The <code>@return</code> tag MUST be used to describe:</p> <ul> <li>The meaning of the return value</li> <li>The general success/failure semantics</li> </ul>"},{"location":"commenting_standards/#rule-fnc-62-retval","title":"Rule FNC-6.2 \u2014 <code>@retval</code>","text":"<p>The <code>@retval</code> tag MUST be used when specific return values have defined meanings.</p>"},{"location":"commenting_standards/#example_1","title":"Example","text":"<pre><code>/**\n * @retval 0 Success\n * @retval -EINVAL Invalid argument\n * @retval -EIO I2C communication failure\n */\n</code></pre>"},{"location":"commenting_standards/#25-error-handling-documentation","title":"25. Error Handling Documentation","text":""},{"location":"commenting_standards/#rule-fnc-71-error-semantics","title":"Rule FNC-7.1 \u2014 Error Semantics","text":"<p>Functions MUST document:</p> <ul> <li>All possible error conditions</li> <li>Whether errors are recoverable</li> <li>Whether the module enters a faulted state</li> </ul> <p>Implicit error behavior is FORBIDDEN.</p>"},{"location":"commenting_standards/#26-preconditions-and-postconditions","title":"26. Preconditions and Postconditions","text":""},{"location":"commenting_standards/#rule-fnc-81-preconditions-pre","title":"Rule FNC-8.1 \u2014 Preconditions (<code>@pre</code>)","text":"<p>All assumptions required for correct operation MUST be documented using <code>@pre</code>.</p> <p>Examples:</p> <ul> <li>Initialization order</li> <li>Required hardware state</li> <li>Valid pointer arguments</li> </ul>"},{"location":"commenting_standards/#rule-fnc-82-postconditions-post","title":"Rule FNC-8.2 \u2014 Postconditions (<code>@post</code>)","text":"<p>All observable effects MUST be documented using <code>@post</code>.</p> <p>Examples:</p> <ul> <li>State changes</li> <li>Resource ownership changes</li> <li>Side effects</li> </ul>"},{"location":"commenting_standards/#27-side-effects-and-global-state","title":"27. Side Effects and Global State","text":""},{"location":"commenting_standards/#rule-fnc-91-side-effect-documentation","title":"Rule FNC-9.1 \u2014 Side Effect Documentation","text":"<p>Functions that:</p> <ul> <li>Modify global state</li> <li>Access hardware</li> <li>Block execution</li> <li>Acquire resources</li> </ul> <p>MUST explicitly document side effects in <code>@details</code> or <code>@note</code>.</p>"},{"location":"commenting_standards/#28-private-function-documentation","title":"28. Private Function Documentation","text":""},{"location":"commenting_standards/#rule-fnc-101-private-functions","title":"Rule FNC-10.1 \u2014 Private Functions","text":"<p>Private (file-static) functions:</p> <ul> <li>SHOULD be documented if non-trivial</li> <li>MUST be documented if safety-critical</li> <li>MUST NOT be documented as public APIs</li> </ul>"},{"location":"commenting_standards/#29-prohibited-practices","title":"29. Prohibited Practices","text":""},{"location":"commenting_standards/#rule-fnc-111-prohibited-content","title":"Rule FNC-11.1 \u2014 Prohibited Content","text":"<p>Function documentation MUST NOT:</p> <ul> <li>Restate the function name</li> <li>Describe implementation steps</li> <li>Contain redundant information</li> <li>Contradict the code behavior</li> </ul>"},{"location":"commenting_standards/#30-function-level-review-checklist","title":"30. Function-Level Review Checklist","text":"<p>A function MUST be rejected if:</p> <ul> <li>It is public and undocumented</li> <li>Parameters lack direction or constraints</li> <li>Error behavior is undocumented</li> <li>Preconditions are implicit</li> <li>Side effects are undocumented</li> </ul> <p>End of Phase 3 \u2014 Function-Level Documentation</p>"},{"location":"commenting_standards/#phase-4-type-struct-enum-and-macro-documentation","title":"Phase 4 \u2014 Type, Struct, Enum, and Macro Documentation","text":"<p>(NASA C Style, Doxygen-Compatible)</p>"},{"location":"commenting_standards/#31-purpose-of-type-level-documentation","title":"31. Purpose of Type-Level Documentation","text":"<p>Type-level documentation defines the meaning of data, independent of functions.</p> <p>In embedded and safety-critical systems, data semantics are as important as code logic. Incorrect assumptions about units, ranges, or ownership are a common cause of failure.</p> <p>Type-level documentation applies to: - <code>struct</code> - <code>enum</code> - <code>typedef</code> - <code>#define</code> macros - Public constants</p>"},{"location":"commenting_standards/#32-general-rules-for-public-types","title":"32. General Rules for Public Types","text":""},{"location":"commenting_standards/#rule-t-11-mandatory-documentation-for-public-types","title":"Rule T-1.1 \u2014 Mandatory Documentation for Public Types","text":"<p>All publicly visible types MUST be documented.</p> <p>This includes any type declared in: - A public header file - A module interface</p> <p>Undocumented public types are FORBIDDEN.</p>"},{"location":"commenting_standards/#rule-t-12-location-of-type-documentation","title":"Rule T-1.2 \u2014 Location of Type Documentation","text":"<p>Type documentation MUST: - Appear immediately before the type declaration - Use a Doxygen-compatible comment block - Be the authoritative source of truth</p>"},{"location":"commenting_standards/#33-units-ranges-and-scaling-mandatory","title":"33. Units, Ranges, and Scaling (MANDATORY)","text":""},{"location":"commenting_standards/#rule-t-21-units","title":"Rule T-2.1 \u2014 Units","text":"<p>All public data MUST explicitly document units.</p> <p>Examples: - meters (<code>m</code>) - meters per second squared (<code>m/s^2</code>) - radians - degrees - raw ADC counts</p> <p>Implicit units are FORBIDDEN.</p>"},{"location":"commenting_standards/#rule-t-22-valid-ranges","title":"Rule T-2.2 \u2014 Valid Ranges","text":"<p>All public data MUST document: - Minimum valid value - Maximum valid value - Behavior on out-of-range values (if applicable)</p>"},{"location":"commenting_standards/#rule-t-23-scaling-and-encoding","title":"Rule T-2.3 \u2014 Scaling and Encoding","text":"<p>If a value is: - Scaled - Encoded - Fixed-point - Bit-packed</p> <p>The scaling MUST be documented explicitly.</p>"},{"location":"commenting_standards/#34-struct-documentation","title":"34. Struct Documentation","text":""},{"location":"commenting_standards/#rule-t-31-struct-level-documentation","title":"Rule T-3.1 \u2014 Struct-Level Documentation","text":"<p>Every public <code>struct</code> MUST have a Doxygen comment block describing: - What the struct represents - Ownership and lifetime - Any invariants</p>"},{"location":"commenting_standards/#rule-t-32-member-level-documentation","title":"Rule T-3.2 \u2014 Member-Level Documentation","text":"<p>Every public struct member MUST be documented.</p> <p>Member documentation MUST include: - Meaning - Units - Valid range</p>"},{"location":"commenting_standards/#required-struct-documentation-template","title":"Required Struct Documentation Template","text":"<pre><code>/**\n * @brief IMU accelerometer measurement.\n *\n * @details\n * Represents a single accelerometer sample expressed in the body frame.\n */\ntypedef struct\n{\n    /** Acceleration along X axis in m/s^2. Range: [-160, 160]. */\n    float ax;\n\n    /** Acceleration along Y axis in m/s^2. Range: [-160, 160]. */\n    float ay;\n\n    /** Acceleration along Z axis in m/s^2. Range: [-160, 160]. */\n    float az;\n} imu_accel_t;\n</code></pre>"},{"location":"commenting_standards/#35-enum-documentation","title":"35. Enum Documentation","text":""},{"location":"commenting_standards/#rule-t-41-enum-level-documentation","title":"Rule T-4.1 \u2014 Enum-Level Documentation","text":"<p>Every public <code>enum</code> MUST be documented with:</p> <ul> <li>Overall meaning</li> <li>Usage context</li> </ul>"},{"location":"commenting_standards/#rule-t-42-enum-value-documentation","title":"Rule T-4.2 \u2014 Enum Value Documentation","text":"<p>Every enum value MUST be individually documented.</p> <p>Undocumented enum values are FORBIDDEN.</p>"},{"location":"commenting_standards/#required-enum-documentation-template","title":"Required Enum Documentation Template","text":""},{"location":"commenting_standards/#brief-imu-operating-modes-typedef-enum-imu-is-powered-down-imu_mode_off-0-imu-is-initialized-but-not-sampling-imu_mode_idle-imu-is-actively-sampling-sensor-data-imu_mode_active-imu_mode_t","title":"<pre><code>/**\n * @brief IMU operating modes.\n */\ntypedef enum\n{\n    /** IMU is powered down. */\n    IMU_MODE_OFF = 0,\n\n    /** IMU is initialized but not sampling. */\n    IMU_MODE_IDLE,\n\n    /** IMU is actively sampling sensor data. */\n    IMU_MODE_ACTIVE\n} imu_mode_t;\n</code></pre>","text":""},{"location":"commenting_standards/#36-typedef-documentation","title":"36. Typedef Documentation","text":""},{"location":"commenting_standards/#rule-t-51-typedef-purpose","title":"Rule T-5.1 \u2014 Typedef Purpose","text":"<p>All public <code>typedef</code>s MUST document:</p> <ul> <li>Why the alias exists</li> <li>What semantic meaning it adds</li> </ul> <p>Typedefs MUST NOT be used solely for brevity.</p>"},{"location":"commenting_standards/#correct-example","title":"Correct Example","text":"<pre><code>/**\n * @brief Timestamp in microseconds since system boot.\n */\ntypedef uint64_t timestamp_us_t;\n</code></pre>"},{"location":"commenting_standards/#37-macro-documentation","title":"37. Macro Documentation","text":""},{"location":"commenting_standards/#rule-t-61-public-macros","title":"Rule T-6.1 \u2014 Public Macros","text":"<p>All public macros MUST be documented.</p> <p>Macro documentation MUST include:</p> <ul> <li>Purpose</li> <li>Units (if applicable)</li> <li>Valid range</li> </ul>"},{"location":"commenting_standards/#rule-t-62-macros-vs-constants","title":"Rule T-6.2 \u2014 Macros vs Constants","text":"<p>Macros MUST NOT be used where:</p> <ul> <li>A <code>const</code> variable</li> <li>An <code>enum</code></li> </ul> <p>Would be safer or clearer.</p>"},{"location":"commenting_standards/#required-macro-documentation-template","title":"Required Macro Documentation Template","text":"<pre><code>/** IMU maximum supported output rate in Hz. */\n#define IMU_MAX_ODR_HZ 1000U\n</code></pre>"},{"location":"commenting_standards/#38-bitfields-and-packed-data","title":"38. Bitfields and Packed Data","text":""},{"location":"commenting_standards/#rule-t-71-bitfield-documentation","title":"Rule T-7.1 \u2014 Bitfield Documentation","text":"<p>Bitfields MUST document:</p> <ul> <li>Bit position</li> <li>Meaning</li> <li>Valid values</li> </ul> <p>Implicit bit meaning is FORBIDDEN.</p>"},{"location":"commenting_standards/#example_2","title":"Example","text":"<pre><code>/**\n * @brief IMU status register flags.\n */\ntypedef struct\n{\n    /** Data ready flag (bit 0). */\n    uint8_t data_ready : 1;\n\n    /** Overrun error flag (bit 1). */\n    uint8_t overrun    : 1;\n} imu_status_t;\n</code></pre>"},{"location":"commenting_standards/#39-private-types","title":"39. Private Types","text":""},{"location":"commenting_standards/#rule-t-81-private-types","title":"Rule T-8.1 \u2014 Private Types","text":"<p>Private types:</p> <ul> <li>SHOULD be documented if non-trivial</li> <li>MUST be documented if safety-critical</li> <li>MUST NOT appear in public headers</li> </ul>"},{"location":"commenting_standards/#40-prohibited-practices","title":"40. Prohibited Practices","text":""},{"location":"commenting_standards/#rule-t-91-prohibited-content","title":"Rule T-9.1 \u2014 Prohibited Content","text":"<p>Type documentation MUST NOT:</p> <ul> <li>Restate the type name</li> <li>Describe how values are computed</li> <li>Duplicate function documentation</li> <li>Contradict implementation behavior</li> </ul>"},{"location":"commenting_standards/#41-type-level-review-checklist","title":"41. Type-Level Review Checklist","text":"<p>A change MUST be rejected if:</p> <ul> <li>Public types lack unit or range information</li> <li>Enum values are undocumented</li> <li>Struct members are undocumented</li> <li>Scaling is implicit</li> <li>Macros are misused for typed values</li> </ul> <p>End of Phase 4 \u2014 Type, Struct, Enum, and Macro Documentation</p>"},{"location":"commenting_standards/#phase-5-inline-control-flow-commenting","title":"Phase 5 \u2014 Inline &amp; Control-Flow Commenting","text":"<p>(NASA C Style, Doxygen-Compatible)</p>"},{"location":"commenting_standards/#42-purpose-of-inline-comments","title":"42. Purpose of Inline Comments","text":"<p>Inline comments exist to explain intent, rationale, and constraints that cannot be expressed clearly through code alone.</p> <p>Inline comments do not document interfaces \u2014 they document decisions.</p>"},{"location":"commenting_standards/#43-general-rules-for-inline-comments","title":"43. General Rules for Inline Comments","text":""},{"location":"commenting_standards/#rule-i-11-intent-over-mechanics","title":"Rule I-1.1 \u2014 Intent Over Mechanics","text":"<p>Inline comments MUST explain: - Why the code exists - Why a decision was made - Why a constraint exists</p> <p>Inline comments MUST NOT explain: - What the code is syntactically doing - Restate obvious operations - Mirror the code line-by-line</p>"},{"location":"commenting_standards/#rule-i-12-comment-quality","title":"Rule I-1.2 \u2014 Comment Quality","text":"<p>Inline comments MUST: - Be concise - Be accurate - Be colocated with the code they describe</p> <p>Inline comments MUST NOT: - Drift from the code - Contradict the implementation - Become stale</p>"},{"location":"commenting_standards/#44-single-line-comments","title":"44. Single-Line Comments","text":""},{"location":"commenting_standards/#rule-i-21-style","title":"Rule I-2.1 \u2014 Style","text":"<p>Single-line comments MUST use <code>//</code>.</p> <pre><code>// Wait for sensor startup time before first access\ndelay_ms(IMU_STARTUP_DELAY_MS);\n</code></pre>"},{"location":"commenting_standards/#rule-i-22-placement","title":"Rule I-2.2 \u2014 Placement","text":"<p>Single-line comments MUST:</p> <ul> <li>Appear on the line above the code</li> <li>Not trail code on the same line (except for short clarifications)</li> </ul>"},{"location":"commenting_standards/#preferred","title":"Preferred","text":"<pre><code>// Clamp value to prevent overflow in fixed-point math\nvalue = clamp(value, MIN_VAL, MAX_VAL);\n</code></pre>"},{"location":"commenting_standards/#discouraged","title":"Discouraged","text":""},{"location":"commenting_standards/#value-clampvalue-min_val-max_val-clamp-value","title":"<pre><code>value = clamp(value, MIN_VAL, MAX_VAL); // clamp value\n</code></pre>","text":""},{"location":"commenting_standards/#45-block-comments","title":"45. Block Comments","text":""},{"location":"commenting_standards/#rule-i-31-usage","title":"Rule I-3.1 \u2014 Usage","text":"<p>Block comments (<code>/* ... */</code>) MAY be used to:</p> <ul> <li>Explain a complex algorithm</li> <li>Describe a multi-step sequence</li> <li>Explain non-obvious control flow</li> </ul> <p>Block comments MUST NOT be used for:</p> <ul> <li>File-level documentation</li> <li>Function documentation</li> <li>Single-line explanations</li> </ul>"},{"location":"commenting_standards/#example_3","title":"Example","text":"<pre><code>/*\n * The following sequence resets the IMU by toggling the power domain.\n * A delay is required between transitions to meet the datasheet\n * minimum reset pulse width.\n */\nimu_power_off();\ndelay_ms(10);\nimu_power_on();\n</code></pre>"},{"location":"commenting_standards/#46-conditional-logic-if-else-switch","title":"46. Conditional Logic (<code>if</code>, <code>else</code>, <code>switch</code>)","text":""},{"location":"commenting_standards/#rule-i-41-non-trivial-conditions","title":"Rule I-4.1 \u2014 Non-Trivial Conditions","text":"<p>Conditionals with non-obvious intent MUST be commented.</p> <pre><code>// Enter failsafe if sensor data is stale for more than 100 ms\nif (timestamp_diff(now, last_update) &gt; FAILSAFE_TIMEOUT_MS)\n{\n    enter_failsafe();\n}\n</code></pre>"},{"location":"commenting_standards/#rule-i-42-else-and-default-cases","title":"Rule I-4.2 \u2014 <code>else</code> and Default Cases","text":"<p><code>else</code> and <code>default</code> branches MUST be commented if:</p> <ul> <li>They represent error handling</li> <li>They represent unexpected states</li> </ul> <pre><code>default:\n    // Unexpected state \u2014 enter safe mode\n    system_safe_mode();\n    break;\n</code></pre>"},{"location":"commenting_standards/#47-loops","title":"47. Loops","text":""},{"location":"commenting_standards/#rule-i-51-loop-purpose","title":"Rule I-5.1 \u2014 Loop Purpose","text":"<p>All non-trivial loops MUST be commented with:</p> <ul> <li>Loop intent</li> <li>Termination condition</li> </ul> <pre><code>// Poll IMU until data-ready flag is set or timeout expires\nwhile (!imu_data_ready())\n{\n    if (timeout_expired())\n    {\n        return -ETIMEDOUT;\n    }\n}\n</code></pre>"},{"location":"commenting_standards/#rule-i-52-loop-invariants","title":"Rule I-5.2 \u2014 Loop Invariants","text":"<p>If a loop relies on an invariant, it MUST be documented.</p> <pre><code>// Invariant: buffer_index always points to next free slot\nfor (uint32_t i = 0; i &lt; buffer_len; i++)\n{\n    buffer[buffer_index++] = data[i];\n}\n</code></pre>"},{"location":"commenting_standards/#48-state-machines","title":"48. State Machines","text":""},{"location":"commenting_standards/#rule-i-61-state-machine-documentation","title":"Rule I-6.1 \u2014 State Machine Documentation","text":"<p>State machines MUST be documented using inline comments that describe:</p> <ul> <li>State purpose</li> <li>Transition conditions</li> <li>Failure paths</li> </ul> <pre><code>// STATE_INIT:\n// - Power on sensor\n// - Wait for startup delay\n// Transition to STATE_IDLE on success\n</code></pre>"},{"location":"commenting_standards/#rule-i-62-state-transitions","title":"Rule I-6.2 \u2014 State Transitions","text":"<p>Transitions MUST be commented when:</p> <ul> <li>They are conditional</li> <li>They are safety-critical</li> </ul> <pre><code>// Transition to FAILSAFE if initialization fails\nstate = STATE_FAILSAFE;\n</code></pre>"},{"location":"commenting_standards/#49-error-handling-paths","title":"49. Error Handling Paths","text":""},{"location":"commenting_standards/#rule-i-71-error-path-documentation","title":"Rule I-7.1 \u2014 Error Path Documentation","text":"<p>Error-handling code MUST be commented to explain:</p> <ul> <li>Why the error is handled here</li> <li>Why the chosen recovery action is safe</li> </ul> <pre><code>// I2C failure is non-recoverable at runtime \u2014 enter safe mode\nenter_safe_mode();\n</code></pre>"},{"location":"commenting_standards/#50-timing-and-ordering-constraints","title":"50. Timing and Ordering Constraints","text":""},{"location":"commenting_standards/#rule-i-81-timing-constraints","title":"Rule I-8.1 \u2014 Timing Constraints","text":"<p>Code that depends on:</p> <ul> <li>Timing</li> <li>Ordering</li> <li>Hardware delays</li> </ul> <p>MUST be commented with the rationale.</p> <pre><code>// Datasheet requires 5 ms delay after reset before first register access\ndelay_ms(5);\n</code></pre>"},{"location":"commenting_standards/#51-magic-numbers","title":"51. Magic Numbers","text":""},{"location":"commenting_standards/#rule-i-91-prohibition-of-magic-numbers","title":"Rule I-9.1 \u2014 Prohibition of Magic Numbers","text":"<p>Magic numbers MUST NOT appear without explanation.</p> <pre><code>// 14-bit ADC resolution (0\u201316383)\nraw_value &amp;= 0x3FFF;\n</code></pre>"},{"location":"commenting_standards/#52-commenting-what-not-to-do","title":"52. Commenting What Not to Do","text":""},{"location":"commenting_standards/#rule-i-101-forbidden-inline-comments","title":"Rule I-10.1 \u2014 Forbidden Inline Comments","text":"<p>Inline comments MUST NOT:</p> <ul> <li>State the obvious</li> <li>Repeat the code</li> <li>Explain syntax</li> </ul>"},{"location":"commenting_standards/#forbidden","title":"Forbidden","text":"<pre><code>i++; // increment i\n</code></pre>"},{"location":"commenting_standards/#rule-i-111-todo-fixme-hack-note-discipline","title":"Rule I-11.1 \u2014 TODO / FIXME / HACK / NOTE Discipline","text":"<p>Temporary-work comments MUST follow a standard format.</p> <p>Allowed tags are: * <code>TODO</code> \u2013 planned improvement or follow-up work * <code>FIXME</code> \u2013 known bug or incorrect behavior * <code>HACK</code> \u2013 short-term workaround that must be removed * <code>NOTE</code> \u2013 important clarification that is not a task</p> <p>Task-bearing tags (<code>TODO</code>, <code>FIXME</code>, <code>HACK</code>) MUST include: * A responsible owner or team identifier * A tracking reference (ticket/issue ID or equivalent) * A clear removal condition (what \u201cdone\u201d means)</p> <p>Task-bearing tags MUST NOT be used as a substitute for proper design documentation.</p>"},{"location":"commenting_standards/#required-format","title":"Required Format","text":"<pre><code>// TODO(&lt;owner&gt;): &lt;action&gt; [&lt;ticket-id&gt;] \u2014 Remove when &lt;removal-condition&gt;.\n</code></pre>"},{"location":"commenting_standards/#example_4","title":"Example","text":""},{"location":"commenting_standards/#fixmesensor-handle-fifo-overflow-imu-214-remove-when-overflow-counter-is-verified-in-hil","title":"<pre><code>// FIXME(sensor): Handle FIFO overflow [IMU-214] \u2014 Remove when overflow counter is verified in HIL.\n</code></pre>","text":""},{"location":"commenting_standards/#53-inline-comment-review-checklist","title":"53. Inline Comment Review Checklist","text":"<p>Code MUST be rejected if:</p> <ul> <li>Control flow is non-obvious and uncommented</li> <li>Error paths lack rationale</li> <li>Timing constraints are undocumented</li> <li>Magic numbers are unexplained</li> <li>Comments explain what instead of why</li> </ul> <p>End of Phase 5 \u2014 Inline &amp; Control-Flow Commenting</p>"},{"location":"commenting_standards/#phase-6-embedded-safety-critical-commenting","title":"Phase 6 \u2014 Embedded &amp; Safety-Critical Commenting","text":"<p>(NASA C Style, Doxygen-Compatible)</p>"},{"location":"commenting_standards/#54-purpose-of-safety-critical-commenting","title":"54. Purpose of Safety-Critical Commenting","text":"<p>Safety-critical commenting documents hazards, constraints, and fault behavior that cannot be inferred from code alone.</p> <p>This phase applies to: - Interrupt Service Routines (ISRs) - Hardware register access - Timing-critical code - Power-on / reset sequences - Watchdogs - Fault handling and failsafe logic</p> <p>Failure to document safety-relevant behavior is a system-level risk.</p>"},{"location":"commenting_standards/#55-interrupt-service-routines-isrs","title":"55. Interrupt Service Routines (ISRs)","text":""},{"location":"commenting_standards/#rule-e-11-mandatory-isr-documentation","title":"Rule E-1.1 \u2014 Mandatory ISR Documentation","text":"<p>Every ISR MUST be documented with: - Trigger source - Execution constraints - Allowed and forbidden operations - Worst-case execution assumptions</p>"},{"location":"commenting_standards/#required-isr-documentation-template","title":"Required ISR Documentation Template","text":"<pre><code>/**\n * @brief IMU data-ready interrupt handler.\n *\n * @details\n * Triggered by the IMU when new sensor data is available.\n *\n * @note\n * This ISR performs minimal work and defers processing to the main loop.\n *\n * @warning\n * This ISR MUST NOT:\n * - Block\n * - Allocate memory\n * - Call non-reentrant functions\n */\nvoid IMU_DRDY_IRQHandler(void);\n</code></pre>"},{"location":"commenting_standards/#rule-e-12-isr-inline-comments","title":"Rule E-1.2 \u2014 ISR Inline Comments","text":"<p>ISR bodies MUST contain inline comments explaining:</p> <ul> <li>Why work is deferred</li> <li>Why specific operations are safe in ISR context</li> </ul>"},{"location":"commenting_standards/#56-hardware-register-access","title":"56. Hardware Register Access","text":""},{"location":"commenting_standards/#rule-e-21-register-access-documentation","title":"Rule E-2.1 \u2014 Register Access Documentation","text":"<p>All direct hardware register access MUST be commented with:</p> <ul> <li>Register purpose</li> <li>Bit meaning</li> <li>Source (datasheet reference or section)</li> </ul>"},{"location":"commenting_standards/#example_5","title":"Example","text":""},{"location":"commenting_standards/#ctrl_reg1-enables-accelerometer-and-sets-output-data-rate-datasheet-xyz-imu-section-731-write_regimu_ctrl_reg1-ctrl_reg1_acc_en-ctrl_reg1_odr_1khz","title":"<pre><code>// CTRL_REG1: Enables accelerometer and sets output data rate\n// Datasheet XYZ-IMU, Section 7.3.1\nwrite_reg(IMU_CTRL_REG1, CTRL_REG1_ACC_EN | CTRL_REG1_ODR_1KHZ);\n</code></pre>","text":""},{"location":"commenting_standards/#rule-e-22-bit-manipulation","title":"Rule E-2.2 \u2014 Bit Manipulation","text":"<p>Bit masks and shifts MUST be commented if their meaning is not obvious.</p> <p>Implicit bit usage is FORBIDDEN.</p>"},{"location":"commenting_standards/#57-timing-critical-code","title":"57. Timing-Critical Code","text":""},{"location":"commenting_standards/#rule-e-31-timing-assumptions","title":"Rule E-3.1 \u2014 Timing Assumptions","text":"<p>Code that depends on:</p> <ul> <li>Delays</li> <li>Execution order</li> <li>Hardware timing</li> </ul> <p>MUST document the timing rationale.</p>"},{"location":"commenting_standards/#example_6","title":"Example","text":"<pre><code>// Datasheet requires minimum 2 ms delay after power-up\ndelay_ms(2);\n</code></pre>"},{"location":"commenting_standards/#rule-e-32-busy-wait-loops","title":"Rule E-3.2 \u2014 Busy-Wait Loops","text":"<p>Busy-wait loops MUST document:</p> <ul> <li>Why blocking is acceptable</li> <li>Maximum wait time</li> <li>Exit conditions</li> </ul>"},{"location":"commenting_standards/#58-power-on-and-reset-sequences","title":"58. Power-On and Reset Sequences","text":""},{"location":"commenting_standards/#rule-e-41-startup-sequence-documentation","title":"Rule E-4.1 \u2014 Startup Sequence Documentation","text":"<p>Power-on and reset code MUST be commented with:</p> <ul> <li>Sequence order</li> <li>Rationale for ordering</li> <li>Failure handling behavior</li> </ul>"},{"location":"commenting_standards/#example_7","title":"Example","text":"<pre><code>// Power-on sequence:\n// 1. Enable regulator\n// 2. Wait for voltage stabilization\n// 3. Release IMU reset\n</code></pre>"},{"location":"commenting_standards/#rule-e-42-reset-side-effects","title":"Rule E-4.2 \u2014 Reset Side Effects","text":"<p>Reset routines MUST document:</p> <ul> <li>Which states are cleared</li> <li>Which states persist</li> <li>Any hardware that requires reinitialization</li> </ul>"},{"location":"commenting_standards/#59-watchdog-usage","title":"59. Watchdog Usage","text":""},{"location":"commenting_standards/#rule-e-51-watchdog-intent","title":"Rule E-5.1 \u2014 Watchdog Intent","text":"<p>Watchdog-related code MUST document:</p> <ul> <li>Why the watchdog exists</li> <li>What failure it protects against</li> <li>Reset consequences</li> </ul>"},{"location":"commenting_standards/#example_8","title":"Example","text":"<pre><code>// Refresh watchdog to prevent reset during long SD card write\nkick_watchdog();\n</code></pre>"},{"location":"commenting_standards/#rule-e-52-watchdog-disablement","title":"Rule E-5.2 \u2014 Watchdog Disablement","text":"<p>Any code that disables or pauses a watchdog MUST:</p> <ul> <li>Be explicitly commented</li> <li>Justify why this is safe</li> <li>Be reviewed as safety-critical</li> </ul>"},{"location":"commenting_standards/#60-fault-handling-and-failsafe-logic","title":"60. Fault Handling and Failsafe Logic","text":""},{"location":"commenting_standards/#rule-e-61-fault-path-documentation","title":"Rule E-6.1 \u2014 Fault Path Documentation","text":"<p>Fault-handling code MUST document:</p> <ul> <li>What fault occurred</li> <li>Why the chosen response is safe</li> <li>Whether recovery is possible</li> </ul>"},{"location":"commenting_standards/#example_9","title":"Example","text":"<pre><code>// IMU communication failure is non-recoverable in flight.\n// Transition to safe mode to prevent invalid navigation data.\nenter_safe_mode();\n</code></pre>"},{"location":"commenting_standards/#rule-e-62-silent-failures","title":"Rule E-6.2 \u2014 Silent Failures","text":"<p>Silent failure handling is FORBIDDEN.</p> <p>All fault paths MUST:</p> <ul> <li>Be explicit</li> <li>Be commented</li> <li>Lead to a defined system state</li> </ul>"},{"location":"commenting_standards/#61-resource-ownership-and-lifetime","title":"61. Resource Ownership and Lifetime","text":""},{"location":"commenting_standards/#rule-e-71-resource-documentation","title":"Rule E-7.1 \u2014 Resource Documentation","text":"<p>Code that acquires hardware or system resources MUST document:</p> <ul> <li>Ownership</li> <li>Lifetime</li> <li>Release conditions</li> </ul>"},{"location":"commenting_standards/#62-concurrency-and-shared-state","title":"62. Concurrency and Shared State","text":""},{"location":"commenting_standards/#rule-e-81-shared-state-access","title":"Rule E-8.1 \u2014 Shared State Access","text":"<p>Access to shared state MUST be commented when:</p> <ul> <li>Accessed from multiple contexts</li> <li>Accessed from ISR and non-ISR code</li> </ul>"},{"location":"commenting_standards/#example_10","title":"Example","text":"<pre><code>// Protected by disabling interrupts to prevent race with ISR\ndisable_irq();\nshared_counter++;\nenable_irq();\n</code></pre>"},{"location":"commenting_standards/#rule-e-82-locking-critical-sections-and-lock-ordering","title":"Rule E-8.2 \u2014 Locking, Critical Sections, and Lock Ordering","text":"<p>When shared state is protected by a lock, critical section, or interrupt masking, comments MUST state: * What is being protected * The protection mechanism (mutex/spinlock/IRQ mask/etc.) * Any lock ordering rules required to avoid deadlock</p>"},{"location":"commenting_standards/#rule-e-83-atomicity-and-memory-ordering","title":"Rule E-8.3 \u2014 Atomicity and Memory Ordering","text":"<p>When correctness depends on atomic operations or memory ordering, comments MUST document: * Which variables are atomic and why * Which ordering guarantees are required (e.g., producer/consumer visibility) * Which contexts access the data (tasks/threads/ISR/DMA)</p>"},{"location":"commenting_standards/#rule-e-84-reentrancy-and-thread-safety-declarations","title":"Rule E-8.4 \u2014 Reentrancy and Thread-Safety Declarations","text":"<p>Public APIs and any function used across execution contexts MUST declare whether they are: * Reentrant / non-reentrant * Thread-safe / thread-compatible (and what synchronization is required) * ISR-safe / ISR-unsafe</p> <p>This information SHOULD be stated in the function\u2019s Doxygen block (<code>@note</code> / <code>@warning</code>) or the module documentation.</p>"},{"location":"commenting_standards/#63-defensive-programming-constructs","title":"63. Defensive Programming Constructs","text":""},{"location":"commenting_standards/#rule-e-91-defensive-checks","title":"Rule E-9.1 \u2014 Defensive Checks","text":"<p>Defensive checks (asserts, guards, sanity checks) MUST document:</p> <ul> <li>What invariant is being enforced</li> <li>What failure indicates</li> </ul>"},{"location":"commenting_standards/#example_11","title":"Example","text":"<pre><code>// Assert ensures buffer index never exceeds allocated memory\nassert(buffer_index &lt; BUFFER_SIZE);\n</code></pre>"},{"location":"commenting_standards/#rule-e-92-logging-and-telemetry-message-intent","title":"Rule E-9.2 \u2014 Logging and Telemetry Message Intent","text":"<p>Where logging or telemetry is used to report faults, safety states, or degraded modes, messages MUST be meaningful and actionable.</p> <p>Messages MUST communicate: * What happened (condition/event) * What the system did (mitigation/safe-state action) * What the operator or integrator should infer (impact/severity), when applicable</p> <p>Logs and telemetry MUST NOT replace required documentation of hazards, fault behavior, or constraints.</p>"},{"location":"commenting_standards/#example_12","title":"Example","text":"<pre><code>// Enter safe mode on repeated IMU read failures to prevent using stale attitude data\nLOG_ERR(\"imu: read failed %u times; entering SAFE_MODE\", fail_count);\nenter_safe_mode();\n</code></pre>"},{"location":"commenting_standards/#64-prohibited-practices-safety-context","title":"64. Prohibited Practices (Safety Context)","text":""},{"location":"commenting_standards/#rule-e-101-forbidden-constructs","title":"Rule E-10.1 \u2014 Forbidden Constructs","text":"<p>In safety-critical code, comments MUST NOT:</p> <ul> <li>Downplay risk (\u201cshould be fine\u201d)</li> <li>Express uncertainty (\u201cprobably safe\u201d)</li> <li>Justify undefined behavior</li> </ul>"},{"location":"commenting_standards/#65-safety-critical-review-checklist","title":"65. Safety-Critical Review Checklist","text":"<p>Code MUST be rejected if:</p> <ul> <li>ISRs lack documentation</li> <li>Register accesses are undocumented</li> <li>Timing assumptions are implicit</li> <li>Fault paths are uncommented</li> <li>Watchdog behavior is unclear</li> <li>Silent failures exist</li> </ul>"},{"location":"commenting_standards/#66-compliance","title":"66. Compliance","text":"<p>All safety-relevant code MUST comply with this phase. Deviations MUST be formally reviewed and approved.</p> Phase What it Covers Applies To 1 Files All code 2 Modules Public headers 3 Functions Public APIs 4 Data Public types 5 Inline Non-trivial logic 6 Safety Embedded / ISR 7 Tooling CI / Docs --- End of Phase 6 \u2014 Embedded &amp; Safety-Critical Commenting"},{"location":"commenting_standards/#phase-7-tooling-documentation-pipeline-and-enforcement","title":"Phase 7 \u2014 Tooling, Documentation Pipeline, and Enforcement","text":"<p>(NASA C Style, Doxygen-Compatible)</p>"},{"location":"commenting_standards/#67-purpose-of-tooling-and-enforcement","title":"67. Purpose of Tooling and Enforcement","text":"<p>Commenting standards are only effective if they are: - Automatically checked - Consistently rendered - Enforced during development</p> <p>This phase defines: - Required tooling expectations - Doxygen configuration assumptions - Sphinx / ReadTheDocs integration - Review and CI enforcement rules</p>"},{"location":"commenting_standards/#68-documentation-toolchain-overview","title":"68. Documentation Toolchain Overview","text":""},{"location":"commenting_standards/#rule-p-11-supported-toolchain","title":"Rule P-1.1 \u2014 Supported Toolchain","text":"<p>The official documentation pipeline MUST be:</p> <pre><code>C Source Code\n\u2193\nDoxygen (API extraction)\n\u2193\nXML / Markdown\n\u2193\nSphinx\n\u2193\nReadTheDocs (or equivalent)\n</code></pre> <p>Any alternative pipeline MUST produce equivalent output.</p>"},{"location":"commenting_standards/#69-doxygen-configuration-requirements","title":"69. Doxygen Configuration Requirements","text":""},{"location":"commenting_standards/#rule-p-21-mandatory-doxygen-settings","title":"Rule P-2.1 \u2014 Mandatory Doxygen Settings","text":"<p>The following Doxygen configuration options MUST be enabled:</p> <pre><code>EXTRACT_ALL            = YES\nEXTRACT_PRIVATE        = NO\nEXTRACT_STATIC         = NO\nHIDE_UNDOC_MEMBERS     = YES\nWARN_IF_UNDOCUMENTED   = YES\nWARN_IF_DOC_ERROR      = YES\nGENERATE_XML           = YES\nGENERATE_HTML          = YES\nOPTIMIZE_OUTPUT_FOR_C  = YES\n</code></pre>"},{"location":"commenting_standards/#rule-p-22-warning-policy","title":"Rule P-2.2 \u2014 Warning Policy","text":"<p>Doxygen warnings MUST be treated as: - Errors in CI - Blocking issues in code review</p> <p>Undocumented public symbols are NOT ALLOWED.</p>"},{"location":"commenting_standards/#70-directory-structure-expectations","title":"70. Directory Structure Expectations","text":""},{"location":"commenting_standards/#rule-p-31-recommended-documentation-layout","title":"Rule P-3.1 \u2014 Recommended Documentation Layout","text":"<p>Projects SHOULD follow this layout:</p>"},{"location":"commenting_standards/#docs-coding-standards-commentsmd-api-doxygen-doxyfile-sphinx-confpy-indexrst","title":"<pre><code>docs/\n\u251c\u2500\u2500 coding-standards/\n\u2502   \u2514\u2500\u2500 comments.md\n\u251c\u2500\u2500 api/\n\u2502   \u2514\u2500\u2500 doxygen/\n\u2502       \u2514\u2500\u2500 Doxyfile\n\u2514\u2500\u2500 sphinx/\n    \u251c\u2500\u2500 conf.py\n    \u2514\u2500\u2500 index.rst\n</code></pre>","text":""},{"location":"commenting_standards/#rule-p-32-source-code-inclusion","title":"Rule P-3.2 \u2014 Source Code Inclusion","text":"<p>Only public headers SHOULD be included in Doxygen input paths.</p> <p>Private headers and implementation files MUST NOT define public API documentation.</p>"},{"location":"commenting_standards/#71-sphinx-readthedocs-integration","title":"71. Sphinx / ReadTheDocs Integration","text":""},{"location":"commenting_standards/#rule-p-41-api-documentation-source","title":"Rule P-4.1 \u2014 API Documentation Source","text":"<p>API documentation rendered by Sphinx MUST be generated from:</p> <ul> <li>Doxygen XML output</li> <li>Not manually written API text</li> </ul> <p>Manual duplication of API documentation is FORBIDDEN.</p>"},{"location":"commenting_standards/#rule-p-42-single-source-of-truth","title":"Rule P-4.2 \u2014 Single Source of Truth","text":"<p>Source code comments ARE the single source of truth.</p> <p>Any contradiction between:</p> <ul> <li>Code comments</li> <li>Rendered documentation</li> </ul> <p>MUST be resolved in favor of the code.</p>"},{"location":"commenting_standards/#72-review-enforcement-rules","title":"72. Review Enforcement Rules","text":""},{"location":"commenting_standards/#rule-p-51-mandatory-review-checks","title":"Rule P-5.1 \u2014 Mandatory Review Checks","text":"<p>Code MUST be rejected during review if:</p> <ul> <li>Any public symbol lacks required documentation</li> <li>Documentation contradicts implementation</li> <li>Units, ranges, or constraints are missing</li> <li>Error behavior is undocumented</li> <li>Safety-critical code lacks rationale</li> </ul>"},{"location":"commenting_standards/#rule-p-52-review-language","title":"Rule P-5.2 \u2014 Review Language","text":"<p>Review comments SHOULD reference rule IDs:</p> <p>\u201cViolation of Rule FNC-5.1 \u2014 undocumented parameters.\u201d</p> <p>This ensures objective, non-personal reviews.</p>"},{"location":"commenting_standards/#73-continuous-integration-ci-enforcement","title":"73. Continuous Integration (CI) Enforcement","text":""},{"location":"commenting_standards/#rule-p-61-ci-requirements","title":"Rule P-6.1 \u2014 CI Requirements","text":"<p>CI pipelines SHOULD:</p> <ul> <li>Run Doxygen</li> <li>Fail on documentation warnings</li> <li>Publish generated documentation artifacts</li> </ul>"},{"location":"commenting_standards/#rule-p-62-documentation-drift","title":"Rule P-6.2 \u2014 Documentation Drift","text":"<p>CI SHOULD detect:</p> <ul> <li>New undocumented symbols</li> <li>Removed documentation</li> <li>Broken Doxygen references</li> </ul> <p>Documentation drift is considered a regression.</p>"},{"location":"commenting_standards/#rule-p-63-minimum-mandatory-ci-gates","title":"Rule P-6.3 \u2014 Minimum Mandatory CI Gates","text":"<p>At minimum, CI MUST:</p> <ul> <li>Run Doxygen on the repository (or on the affected documentation inputs)</li> <li>Fail the build on documentation warnings for public headers and any files changed in the PR</li> <li>Fail the build if new public symbols are introduced without required documentation</li> <li>Publish generated documentation artifacts for <code>main</code>/release builds (or equivalent protected branches)</li> </ul>"},{"location":"commenting_standards/#rule-p-64-legacy-code-and-incremental-adoption","title":"Rule P-6.4 \u2014 Legacy Code and Incremental Adoption","text":"<p>For legacy codebases, CI MAY scope strict documentation enforcement to:</p> <ul> <li>Newly added files</li> <li>Modified files</li> <li>Public headers and public API surfaces</li> </ul> <p>However, any file touched by a change MUST be brought into compliance with this standard.</p>"},{"location":"commenting_standards/#rule-p-65-test-and-non-production-code","title":"Rule P-6.5 \u2014 Test and Non-Production Code","text":"<p>Tests and non-production code MUST be readable and self-explanatory.</p> <p>Test code MUST document: * The intent of the test (what behavior is being validated) * The scenario being exercised (inputs/setup) * The expected result (including tolerances for numeric comparisons) * Why the chosen edge cases matter</p> <p>Test helper libraries that are reused across modules SHOULD follow the same public API documentation rules as production code.</p>"},{"location":"commenting_standards/#74-deviations-and-exceptions","title":"74. Deviations and Exceptions","text":""},{"location":"commenting_standards/#rule-p-71-deviation-handling","title":"Rule P-7.1 \u2014 Deviation Handling","text":"<p>Deviations from this standard:</p> <ul> <li>MUST be explicitly documented</li> <li>MUST include technical justification</li> <li>MUST be approved by a technical lead</li> </ul>"},{"location":"commenting_standards/#rule-p-72-temporary-deviations","title":"Rule P-7.2 \u2014 Temporary Deviations","text":"<p>Temporary deviations MUST:</p> <ul> <li>Be tracked</li> <li>Include a removal plan</li> <li>Not persist indefinitely</li> </ul>"},{"location":"commenting_standards/#rule-p-73-third-party-vendor-code","title":"Rule P-7.3 \u2014 Third-Party / Vendor Code","text":"<p>Third-party or vendor-managed code MAY be exempt from full compliance when: * The license prohibits modification of headers/comments * The code is imported and maintained externally * The code is machine-generated by a vendor toolchain</p> <p>Even when exempt, such code MUST: * Be isolated (separate directory/module boundary) to prevent mixing styles * Be wrapped by an internal interface that MUST follow this standard * Include a top-level <code>README</code> or wrapper header note describing provenance and version</p>"},{"location":"commenting_standards/#rule-p-74-auto-generated-code","title":"Rule P-7.4 \u2014 Auto-Generated Code","text":"<p>Auto-generated code MAY use generator-provided headers and comment style.</p> <p>Auto-generated code MUST: * Clearly identify that it is generated * Document the generator/tool and version (if available) * Identify the source inputs (configuration files, models, schemas) when practical * Forbid manual edits inside generated regions (unless explicitly supported by the generator)</p> <p>Any manual changes to generated output MUST be treated as a deviation (Rule P-7.1) and include a plan to upstream or regenerate safely.</p>"},{"location":"commenting_standards/#75-onboarding-and-training","title":"75. Onboarding and Training","text":""},{"location":"commenting_standards/#rule-p-81-developer-awareness","title":"Rule P-8.1 \u2014 Developer Awareness","text":"<p>All developers MUST be made aware of this standard.</p> <p>New team members SHOULD:</p> <ul> <li>Review <code>comments.md</code></li> <li>Follow provided templates</li> <li>Use existing code as reference</li> </ul>"},{"location":"commenting_standards/#76-compliance-statement","title":"76. Compliance Statement","text":"<p>Compliance with this standard is:</p> <ul> <li>Mandatory for all production code</li> <li>Expected for all prototypes</li> <li>Required for all safety-critical systems</li> </ul> <p>Non-compliant code MUST NOT be merged.</p>"},{"location":"commenting_standards/#77-document-ownership","title":"77. Document Ownership","text":"<p>This document MUST:</p> <ul> <li>Be version-controlled</li> <li>Have a designated technical owner</li> <li>Be updated through formal review</li> </ul>"},{"location":"commenting_standards/#end-of-phase-7-tooling-documentation-pipeline-and-enforcement","title":"End of Phase 7 \u2014 Tooling, Documentation Pipeline, and Enforcement","text":"<p>End of Coding Comment Standards</p>"}]}